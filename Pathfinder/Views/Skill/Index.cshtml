@model Pathfinder.ViewModels.SkillManager

@{
    ViewBag.Title = "Skills";
}

<h2>Skills</h2>

@using (Html.BeginForm())
{
    <table class="section noclick full">
        <thead>
            <tr>
                <td>Skill</td>
                <td>Rank</td>
                <td>CS</td>
                <td></td>
                <td></td>
            </tr>
        </thead>
        @for (int i = 0; i < Model.Skills.Count; i++)
        {
            <tr>
                <td>@(Model.Skills[i].Type == null ? Model.Skills[i].Name : Model.Skills[i].Name + " (" + Model.Skills[i].Type + ")")</td>
                <td width="50">@Html.EditorFor(m => Model.Skills[i].Ranks, new { htmlAttributes = new { @class = "form-control numberText" } })</td>
                <td width="30">@Html.EditorFor(m => Model.Skills[i].ClassSkill, new { htmlAttributes = new { @class = "input-group" } })</td>
                <td width="50">@Html.ActionLink("Edit", "Edit", new { Id = Model.Skills[i].SkillId })</td>
                <td width="50">@Html.ActionLink("Delete", "Delete", new { Id = Model.Skills[i].SkillId })</td>
                @Html.HiddenFor(m => Model.Skills[i].SkillId)
                @Html.HiddenFor(m => Model.Skills[i].CharacterId)
                @Html.HiddenFor(m => Model.Skills[i].Name)
                @Html.HiddenFor(m => Model.Skills[i].Type)
                @Html.HiddenFor(m => Model.Skills[i].Ability)
                @Html.HiddenFor(m => Model.Skills[i].UseUntrained)
                @Html.HiddenFor(m => Model.Skills[i].ArmorCheckPenalty)
            </tr>
        }
    </table>

    @Html.ActionLink("+ [New Skill]", "Create", new { Id = Model.CharacterId })<br /><br />

    <input id="btnSave" value="Save" type="submit" class="form-control" />
    
    @Html.HiddenFor(m => m.CharacterId)
}

